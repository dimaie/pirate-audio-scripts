<html>
  <head>
    <title>Pirate Audio Control</title>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
  </head>
  <body style="font-family:sans-serif; margin:2em;">
    <h2>Current Stream</h2>
    <p id="current_stream">{{ current_url }}</p>
    <input type="text" id="stream_url" size="50" placeholder="Stream URL">
    <button onclick="setStream()">Set Stream</button>
    <h2>Mute</h2>
    <p>State: <span id="mute_state">OFF</span></p>
    <button onclick="toggleMute()">Mute / Unmute</button>
    <h3>Presets</h3>
	<select id="preset_select" onchange="setPreset(this.value)">
	  {% for station in presets %}
	    <option value="{{ station.url }}">{{ station.label }}</option>
	  {% endfor %}
	</select>
    <h3>Sleep Timer</h3>
    <div id="timer-status" class="mt-2 text-green-600 text-sm">
       Timer: {{ "OFF" if not timer_enabled else timer_remaining }}
    </div>    
    <button onclick="toggleTimer()">Toggle Timer</button>
    <input type="number" id="timerInterval" value="30" min="1">
    <button onclick="setTimerInterval()">Set Interval</button>
    <h2>Volume</h2>
    <p>Current: <span id="current_volume">{{ current_volume }}</span></p>
    <input id="volume_slider" type="range" 
           min="{{ volume_min }}" max="{{ volume_max }}" 
           value="{{ current_volume }}" oninput="volumeChanged(event)">
  </body>
</html>
